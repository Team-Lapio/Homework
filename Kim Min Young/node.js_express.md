# express 모듈
## 기본 서버
서버 생성 및 실행하는 방법 알아보기\

```javascript

require('http').createServer(function (reuest,response){
    if(request.url == '/') {
        response.write('<!DOCTYPE html>');
        response.write('<html>');
        response.write('<head>');
        response.write('<title>forever</title>');
        response.write('</head>');
        response.write('</html>');
        response.end();
    } else{
        error.error.error();
    }
}).listen(52273, function(){
    console.log(sever);
});
```  
## 기본 응답 메소드
요청 헤더의 속성 추출하기  
header를 사용하게 된다면 손쉽게 ㅇ청 헤더의 속성을 지정하거나 추출할수 있다.  
user-agent를 사용하면 웹 브라우저에 따라 별도로 처리할수 있다. user-agent를 사용해서  
웹 브라우저를 구분할수있다.   

## 미들웨어   
미들웨어는 요청의 응답을 완료하기 전까지 요청 중간중간에 여러가지 일을 처리할수 있습니다.   
use() 메서드의 매개변숭 입력하는 함수를 미들웨어 라고 부릅니다.  

미들웨어를 사용하면 특정한 작업을 수행하는 모듈을 분리해서 만들 수 있습니다. 미들웨어는 재사용할수있다. 장점은 다른 사람이 만든 기능을 추가할수도 있고 자신이 과거에 만든 코드도 재사용하기 편하다.  
## router 미들웨어  
express는 모든 페이지 라우팅을 지원한다. 페이지 라우팅 기능은 express 모듈에 내장되어 있는 미들웨어의 기능을 자동으로 사용할수있게 설정된다.   

get() 메서드는 매개변수 url을 입력하고 두번째 매개변수는 url을 입력했을 때 실행할 이벤트 리스너를 입력합니다.

## morgan 미들웨어
웹 요청이 들어왔을때 로그를 출력하는 미들웨어이다. router모듈과 static 모듈과는 다르게 외부 모듈을 따로 설치 해야 한다. 
원하는 토큰을 조합해서 로그를 원하는 형태로 만든다. 
morgan 미들웨어는 웹 페이지에 나타나느것이 아니고 웹페이지를 실행하게 되면 터미널에 나타난다.   
## cookie 모듈
요청 쿠키를 추출하는 미들웨어이다. request와 response 객체에 cookie 속성과 cookie 메서드가 부여된다.  

☆클라이언트의 요청에 응답하는 방식을 라우팅이라고 한다.   
## body-parser
body-parser를 이용해서 로그인창을 만들었다.
로그인 페이지에서 auth쿠키를 이용해서 실행하고 종료하기전까지  
계속 해서 로그인 상태를 유지할수 있도록 해준다.  
connect-multiparty 는 file속성들을 알려주는 미들웨어이다.  

## 쿠키와 세션의 차이
쿠키는 클라이언트 웹 브라우저에 정보를 저장하는기술이라면, 세션은 서버에 정보를 저장한느 기술이다. 쿠키는 웹에 세션은 서버에 하는 것이다.  
예시)  클라이언트는 서버에게로부터 a10이라는 식별자 쿠키를 받았습니다. 클라이언트 정보를 사용한다면 클라이언트의 식별자 쿠키를 읽어 서버에서 
대응하는 위치에 저장된 데이터를 사용한다.   
express-session은 세션을 쉽게 생성할수 있도록 해주는 것이다.  

## RESTful 웹 서비스 개발
open api보다 더 간단하게 제공하기 위해서 사용되던 방식이다. 최근 rest는 http와 xml을 이용하여 데이터를 주고받는 웹 서비스를 이용하는것으로 사용되고 있다.  

### 일단 웹 서비스 방식과 rest 방식 차이점
일반 웹 서비스는 복잡한 형식의 soap 메세지를 호출하지 해야 한다. 하짐나 rest는 간단하게 url를 
이용해서 데이터를 요청할수 있다. http로 보내서 xml형식으로 반환을 하게 된다.  

★ rest의 특징
잘 정의가 되어진 cool url를 리소스로 사용한다.
rest의 웹 방식에서는 session을 사용하지 않는다.
각각의 요청을 독립적이여서 이전 요청과는 무관하게 어떤한 서버라도 처리할수 있게 된다. 

1. 모든 정보를 url로 표현이 가능하다.
2. 일반 웹 페이지처럼 서로 주변의 연관 리소스들과 연결되어 표현되어야 한다.
3. 현재 클라이언트 상태를 서버에서 관리하지 않아야 한다. (상태없음)
4. method을 이용하여 대부분 처리 가능하다. 
  
  ○즉 rest는  모든 리소스를 url로 표현할수 있고, 구조적이고 유기적으로 연결하고 method를 사용해서 리소스를 사용하는 하는 웹 서비스 이다.